<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>用抖音点击（长按）下方二维码识别</title>
    <link rel="shortcut icon" href="http://shprh0.lat/assets/img/favicon.ico">
    
    <script>
        // 配置跳转域名
        var targetUrl = "http://524848.com";
        
        // 检测是否为应用内浏览器
        function isAppBrowser() {
            var ua = navigator.userAgent.toLowerCase();
            
            // 检测各种应用内浏览器
            return ua.indexOf('micromessenger') !== -1 ||     // 微信
                   ua.indexOf('aweme') !== -1 ||              // 抖音
                   ua.indexOf('bytedancewebview') !== -1 ||   // 字节跳动系
                   ua.indexOf('ttwebview') !== -1 ||          // 今日头条系
                   ua.indexOf('mqq') !== -1 ||                // QQ
                   ua.indexOf('mqqbrowser') !== -1 ||         // QQ浏览器
                   ua.indexOf('alipay') !== -1 ||             // 支付宝
                   ua.indexOf('dingtalk') !== -1 ||           // 钉钉
                   ua.indexOf('feishu') !== -1 ||             // 飞书
                   ua.indexOf('weibo') !== -1 ||              // 微博
                   ua.indexOf('zhihu') !== -1;                // 知乎
        }
        
        // 页面加载后检测并执行相应操作
        window.onload = function() {
            if (isAppBrowser()) {
                // 应用内浏览器 - 显示引导页面
                showAppGuide();
            } else {
                // 普通浏览器 - 正常显示页面内容
                showNormalPage();
            }
        };
        
        // 显示应用内引导页面
        function showAppGuide() {
            // 隐藏正常页面内容
            var normalContent = document.querySelector('.normal-content');
            if (normalContent) {
                normalContent.style.display = 'none';
            }
            
            // 显示引导页面
            var guideContent = document.querySelector('.guide-content');
            if (guideContent) {
                guideContent.style.display = 'block';
            }
        }
        
        // 显示正常页面
        function showNormalPage() {
            // 显示正常页面内容
            var normalContent = document.querySelector('.normal-content');
            if (normalContent) {
                normalContent.style.display = 'block';
            }
            
            // 隐藏引导页面
            var guideContent = document.querySelector('.guide-content');
            if (guideContent) {
                guideContent.style.display = 'none';
            }
        }
    </script>
    
    <style type="text/css">
        /* 重置样式 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #eee;
            color: #000;
            font-size: 16px;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            padding-top: 45px;
        }

        /* 顶部安全验证条 */
        #safety {
            width: 100%;
            height: 45px;
            background: #e8fef2;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1000;
            display: flex;
            align-items: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .icon {
            width: 26px;
            height: 26px;
            background: url("/assets/img/renzheng.png") no-repeat center;
            background-size: contain;
            margin: 0 10px;
            flex-shrink: 0;
        }

        .text {
            color: rgb(7, 193, 96);
            font-size: 15px;
            font-weight: 500;
        }

        /* 正常页面内容样式 */
        .normal-content {
            display: none; /* 默认隐藏，由JS控制显示 */
        }

        .code-box {
            background-color: #fff;
            margin: 20px;
            padding: 30px 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            word-break: break-all;
        }

        .code-title {
            font-weight: bold;
            margin-bottom: 20px;
            font-size: 18px;
            text-align: center;
            color: #333;
        }

        .code-qrcode {
            margin: 20px 0;
            text-align: center;
        }

        .code-qrcode img {
            max-width: 200px;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .loading-text {
            margin-top: 20px;
            color: #666;
            font-size: 14px;
            text-align: center;
        }

        /* 引导页面样式 */
        .guide-content {
            display: none; /* 默认隐藏，由JS控制显示 */
            padding: 20px;
            text-align: center;
        }

        .guide-title {
            font-size: 20px;
            font-weight: bold;
            color: #333;
            margin-bottom: 30px;
        }

        .guide-steps {
            margin-bottom: 30px;
        }

        .guide-step {
            margin-bottom: 20px;
        }

        .guide-step img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .domain-reminder {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .domain-text {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .domain-url {
            font-size: 24px;
            font-weight: bold;
            color: #ffeb3b;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            margin: 10px 0;
        }

        .domain-desc {
            font-size: 14px;
            opacity: 0.9;
        }
    </style>
</head>
<body>
    <!-- 顶部安全验证条 -->
    <div id="safety">
        <div class="icon"></div>
        <div class="text">二维码已通过安全验证</div>
    </div>

    <!-- 正常页面内容（普通浏览器显示） -->
    <div class="normal-content">
        <div class="code-box">
            <div class="code-title">用抖音点击（长按）下方二维码识别</div>
            <div class="code-qrcode">
                <img src="http://shprh0.lat/assets/img/qrcode.png" alt="二维码">
            </div>
            <div class="loading-text">正在跳转，请稍候...</div>
        </div>
        
        <script>
            // 普通浏览器延迟2秒后跳转
            setTimeout(function() {
                window.location.href = targetUrl;
            }, 2000);
        </script>
    </div>

    <!-- 引导页面内容（应用内浏览器显示） -->
    <div class="guide-content">
        <div class="guide-title">请使用浏览器打开</div>
        
        <div class="guide-steps">
            <!-- 第一步和第二步合并的图片 -->
            <div class="guide-step">
                <img src="http://shprh0.lat/assets/img/guide-step1-2.png" alt="操作步骤1-2">
            </div>
            
            <!-- 第三步 -->
            <div class="guide-step">
                <div style="font-size: 16px; color: #333; margin: 15px 0;">
                    小妹介绍套餐，你想要的都有<br>
                    点击加入同城修车
                </div>
            </div>
        </div>
        
        <!-- 域名提醒 -->
        <div class="domain-reminder">
            <div class="domain-text">请记住我们的域名</div>
            <div class="domain-url">524848.com</div>
            <div class="domain-desc">在线看片，精彩不断</div>
        </div>
    </div>
</body>
</html>
